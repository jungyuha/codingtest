# 1514(자물쇠)

#### **first Registered : 2023-2-22**

#### last modified : **2023-2-22**

## \[1] 이론

### (1) 탐욕전개 + dp

* **완전 탐색할 때 헷갈리지 말아야 할 것**
  1. **경우의 수에 의한 '결과(상태)'를 세는 것이 아니다.**
  2. **경우의 수에 의한 '변경 상태'를 세어야 한다.**
  3. **즉 모든 변경에 대한 경우의 수 스냅샷으로 DP 를 만들어야 한다.**
* **모든 자릿수를 DP처리하는 것이 아니다.**
  1. **변화하는 부분에 대한 정보만 DP처리한다.**
     1. 변화하는 세자리수
     2. 변화하는 자리수의 시작점
     3. 변화한 방향(오른쪽,왼쪽)
  2. **그러면 변화 부분 (세자리) 이외의 자리들은 ?**
     1. **앞자리 : 이미 탐욕 전개로 맞춰졌기 때문에 신경 쓸 필요가 없다.**
     2. **뒷자리 : 아직 전개 이전으로 신경쓰지 않는다.**

## \[2] 코드

#### bfs 내 코드 (틀렸지만 bfs로 먼저 풀어봤다.)

```cpp
#include <bits/stdc++.h>
#include <string>
using namespace std;
/*
첫째 줄에 세준이의 비밀번호의 길이 (자물쇠의 크기) N이 주어진다. N은 100보다 작거나 같다. 둘째 줄에 현재 자물쇠의 상태가 주어지고, 셋째 줄에 세준이의 비밀번호가 주어진다.
*/
int n;
string pwd ;
char temp[110],str_[110];
queue<pair<string,int>> q;
void init(){
    string s1 = "12345";
    // cout << s1[0] <<endl;
    int n=s1[0]-'0';
    n+=3;
    cout << char(n+'0') << endl;
    s1[0]=char(n+'0');
    cout << s1 << endl;
}
int go(){
    while(!q.empty()){
        string s1=q.front().first;
        int r = q.front().second;
        q.pop();
        if(s1==pwd) return r;
        for(int k=0;k<=n-3;k++){
            for(int i=1;i<=10;i++){
                string s2 = s1;
                for(int j=0;j<3;j++){
                    int nn=s2[k+j]-'0';
                    nn+=i;
                    if(nn<0) {nn+=10;}
                    else if(nn>9){nn%=(10);}
                    s2[k+j]=char(nn+'0');
                }
                q.push({s2,r+1});
                cout << s2 << endl;
            }
        }
        for(int j=0;j<n;j++){
            for(int i=-3;i<=3;i++){
                if(i==0) continue;
                string s2 = s1;
                int k=s2[j]-'0';
                k+=i;
                if(k<0) {k+=10;}
                else if(k>9){k%=(10);}
                s2[j]=char(k+'0');
                //여기서 호출
                //res = min(res,go(s2,r+1));
                //if(s2==pwd) return r+1;
                q.push({s2,r+1});
                cout << s2 << endl;
            }
        }   
    }
    return 0;
}
int main(){
    //init();
    n=9;
    pwd="567412490";
    q.push({"123456789",0});
    cout << go() << endl;;
    return 0;
}
```
