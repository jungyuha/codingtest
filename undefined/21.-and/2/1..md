# 1. 생성

<figure><img src="../../../.gitbook/assets/image (4) (4).png" alt=""><figcaption></figcaption></figure>

## (1) 방법 1

1. N개가 주어지면 트리의 요소 갯수도 N개이다.
2. index 1부터 시작한다.
3.  홀수번 Index들은 공통적으로 모두 '1'이라는 값을 갖는다.

    즉, 홀수를 2진수로 나타내었을 때, 최하위 1비트 에는 무조건 '1'이 있다.
4. 홀수번 Index들은 해당 자기자신의 값 '1개'에 대한 구간연산 결과값을 갖는다.
5.  짝수번 Index는 "해당 숫자들 만큼 앞으로 x칸 까지의 구간연산 결과값"을

    갖는다.

    1. **숫자 '2' =  0010(2)**
       * '1이 존재하는 최하위 비트' 는 '2'
       *   2번 Index는 2번부터 앞으로 2칸까지의 구간연산 결과값인

           1번 Index + 2번 Index를 한 결과값을 가짐
    2. **숫자 '4'는 0100(2)**
       * '1이 존재하는 최하위 비트'는 '4'
       *   4번 Index는 4번부터 앞으로 4칸까지의 구간연산 결과값인

           Arr\[1] + Arr\[2] + Arr\[3] + Arr\[4] 를 한 결과값을 가짐
    3. **숫자 '12'는 1100(2)**
       1. '1이 존재하는 최하위 비트'는 '4'
       2.  12번 Index는 12번부터 앞으로 4칸까지의 구간연산 결과값인

           Arr\[9] + Arr\[10] + Arr\[11] + Arr\[12] 를 한 결과값을 가짐

#### 예시 : 길이가 5(n=5)이고 요소가 차례로 {2,3,1,4,7}인 펜윅 트리 생성하기

1. T(1) => T(0001(2))  = 2&#x20;
2. T(2) => T(0010(2)) = T(2)+T(1)=2+3=5&#x20;
3. T(3) => T(0011(2))  = 3&#x20;
4. T(4) => T(0100(2))  = T(4)+T(3)+T(2)+T(1) = 10
5. T(5) => T(0101(2))  = 5&#x20;

## (2) 방법 2 : update 방식 사용하기

### N index의 값을 업데이트 하면, **N index와 연관된 펜윅 트리 노드를 같이 update**해야 한다.

* 한 단계씩 올라가면서 자기 자신을 더한다. => 누적합 개념

```cpp
// void Make_PenwickTree()
{
    for (int i = 1; i <= N; i++)
    {
        Update(i, Arr[i]);
    }
}
```

